{"ast":null,"code":"var _jsxFileName = \"/home/spacefox_95/Portofolio-Project/frontend/src/pages/UploadDoc.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UploadDoc = () => {\n  _s();\n  const [selectedFile, setSelectFile] = useState(null);\n  const [message, setMessage] = useState('');\n  const handleFileChange = event => {\n    setSelectFile(event.target.files[0]);\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    try {\n      const response = await axios.post('http://localhost:5000/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setMessage('Les documents ont bien été enregistrés');\n    } catch (err) {\n      console.error(err);\n      setMessage('Une erreur lors de l\\'enregistrement des documents est survenue');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Importer un document\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"application/pdf\",\n        onChange: handleFileChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Enregistrer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 4\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 3\n  }, this);\n};\n_s(UploadDoc, \"s27BTYElPzS+zvCK+yAy9zlngBA=\");\n_c = UploadDoc;\nexport default UploadDoc;\nvar _c;\n$RefreshReg$(_c, \"UploadDoc\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","UploadDoc","_s","selectedFile","setSelectFile","message","setMessage","handleFileChange","event","target","files","handleSubmit","preventDefault","formData","FormData","append","response","post","headers","err","console","error","className","styles","container","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","accept","onChange","required","_c","$RefreshReg$"],"sources":["/home/spacefox_95/Portofolio-Project/frontend/src/pages/UploadDoc.jsx"],"sourcesContent":["import React, { useState} from \"react\";\nimport axios from \"axios\";\n\nconst UploadDoc = () => {\n\tconst [selectedFile, setSelectFile] = useState(null);\n\tconst [message, setMessage] = useState('');\n\n\tconst handleFileChange = (event) => {\n\t\tsetSelectFile(event.target.files[0]);\n\t};\n\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\tconst formData = new FormData();\n\t\tformData.append('file', selectedFile);\n\n\t\ttry {\n\t\t\tconst response = await axios.post('http://localhost:5000/upload', formData, {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\n\t\t\t\t},\n\t\t\t});\n\t\t\tsetMessage('Les documents ont bien été enregistrés');\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t\tsetMessage('Une erreur lors de l\\'enregistrement des documents est survenue');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<h1>Importer un document</h1>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<input type=\"file\" accept=\"application/pdf\" onChange={handleFileChange} required />\n\t\t\t\t<button type=\"submit\">Enregistrer</button>\n\t\t\t</form>\n\t\t\t{message && <p>{message}</p>}\n\t\t\t</div>\n\t);\n};\n\nexport default UploadDoc;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAO,OAAO;AACtC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,YAAY,EAAEC,aAAa,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMU,gBAAgB,GAAIC,KAAK,IAAK;IACnCJ,aAAa,CAACI,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;EACrC,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOH,KAAK,IAAK;IACrCA,KAAK,CAACI,cAAc,CAAC,CAAC;IACtB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEZ,YAAY,CAAC;IAErC,IAAI;MACH,MAAMa,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,IAAI,CAAC,8BAA8B,EAAEJ,QAAQ,EAAE;QAC3EK,OAAO,EAAE;UACR,cAAc,EAAE;QACjB;MACD,CAAC,CAAC;MACFZ,UAAU,CAAC,wCAAwC,CAAC;IACrD,CAAC,CAAC,OAAOa,GAAG,EAAE;MACbC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClBb,UAAU,CAAC,iEAAiE,CAAC;IAC9E;EACD,CAAC;EAED,oBACCN,OAAA;IAAKsB,SAAS,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,gBAChCzB,OAAA;MAAAyB,QAAA,EAAI;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC7B7B,OAAA;MAAM8B,QAAQ,EAAEnB,YAAa;MAAAc,QAAA,gBAC5BzB,OAAA;QAAO+B,IAAI,EAAC,MAAM;QAACC,MAAM,EAAC,iBAAiB;QAACC,QAAQ,EAAE1B,gBAAiB;QAAC2B,QAAQ;MAAA;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACnF7B,OAAA;QAAQ+B,IAAI,EAAC,QAAQ;QAAAN,QAAA,EAAC;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrC,CAAC,EACNxB,OAAO,iBAAIL,OAAA;MAAAyB,QAAA,EAAIpB;IAAO;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvB,CAAC;AAET,CAAC;AAAC3B,EAAA,CApCID,SAAS;AAAAkC,EAAA,GAATlC,SAAS;AAsCf,eAAeA,SAAS;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}